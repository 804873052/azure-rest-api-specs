# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-rest-api-specs/main/documentation/api-scenario/references/v1.2/schema.json
scope: ResourceGroup

variables:
  dataMaskingPolicyName:
    type: string
    prefix: datamask

prepareSteps:
  - operationId: DataMaskingPolicies_CreateOrUpdate
    exampleFile: .\examples\DataMaskingPolicyCreateOrUpdateMax.json

scenarios:
  - scenario: DataMaskingPolicies
    description: Microsoft.Sql/servers/{serverName}/databases/{databaseName}/dataMaskingPolicies/{dataMaskingPolicyName}
    steps:
      - operationId: DataMaskingPolicies_Get
        exampleFile: .\examples\DataMaskingPolicyGet.json


  - scenario: DataMaskingRules
    description: Microsoft.Sql/servers/{serverName}/databases/{databaseName}/dataMaskingPolicies/{dataMaskingPolicyName}/rules/{dataMaskingRuleName}
    steps:
      - operationId: DataMaskingRules_CreateOrUpdate
        variables:
          dataMaskingRuleName:
            type: string
            prefix: datamask
        exampleFile: .\examples\DataMaskingRuleCreateOrUpdateText.json
      - operationId: DataMaskingRules_ListByDatabase
        exampleFile: .\examples\DataMaskingRuleList.json