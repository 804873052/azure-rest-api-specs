scope: ResourceGroup
testScenarios:
  - description: test_network_nic_address_pools
    steps:
      - step: RawStep_2093
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001?api-version=2019-07-01
        requestBody: >-
          {"location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-01-30T21:00:42Z"}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: group create
          Connection: keep-alive
          Content-Length: '110'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '--location --name --tag'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001","name":"cli_test_nic_address_pools000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-01-30T21:00:42Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_2094
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-10-01
        requestBody: >-
          {"location":"westus","tags":{},"properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{},"subnets":[{"properties":{"addressPrefix":"10.0.0.0/24"},"name":"subnet1"}]}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet create
          Connection: keep-alive
          Content-Length: '205'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --subnet-name'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"643cdc41-efc3-4b6f-b0a3-8d5a54865273\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"387c15e8-a248-4566-a6e5-8ddd18d5acd4","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[{"name":"subnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1","etag":"W/\"643cdc41-efc3-4b6f-b0a3-8d5a54865273\"","properties":{"provisioningState":"Updating","addressPrefix":"10.0.0.0/24","delegations":[]},"type":"Microsoft.Network/virtualNetworks/subnets"}],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_2095
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic create
          Connection: keep-alive
          ParameterSetName: '-g -n --subnet --vnet-name'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001","name":"cli_test_nic_address_pools000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-01-30T21:00:42Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_2096
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1?api-version=2018-10-01
        requestBody: >-
          b'{"location": "westus", "properties": {"ipConfigurations":
          [{"properties": {"privateIPAllocationMethod": "Dynamic",
          "privateIPAddressVersion": "IPv4", "subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"}},
          "name": "ipconfig1"}], "dnsSettings": {"dnsServers": []},
          "enableIPForwarding": false}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic create
          Connection: keep-alive
          Content-Length: '468'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --subnet --vnet-name'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"name":"nic1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1","etag":"W/\"79332d2e-6d12-4bcc-8ee1-2469d1aa6e5d\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ce47bce5-32bd-448b-8ad5-0e3a484eb383","ipConfigurations":[{"name":"ipconfig1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1","etag":"W/\"79332d2e-6d12-4bcc-8ee1-2469d1aa6e5d\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},"primary":true,"privateIPAddressVersion":"IPv4"}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},"enableAcceleratedNetworking":false,"enableIPForwarding":false,"hostedWorkloads":[],"tapConfigurations":[]},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2097
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb create
          Connection: keep-alive
          ParameterSetName: '-g -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001","name":"cli_test_nic_address_pools000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-01-30T21:00:42Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_2098
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceGroup%20eq%20%27cli_test_nic_address_pools000001%27%20and%20name%20eq%20%27None%27%20and%20resourceType%20eq%20%27Microsoft.Network%2FpublicIPAddresses%27&api-version=2018-05-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb create
          Connection: keep-alive
          ParameterSetName: '-g -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: '{"value":[]}'
      - step: RawStep_2099
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2019-07-01
        requestBody: >-
          b'{"properties": {"template": {"$schema":
          "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
          "contentVersion": "1.0.0.0", "parameters": {}, "variables": {},
          "resources": [{"apiVersion": "2018-10-01", "type":
          "Microsoft.Network/publicIPAddresses", "name": "PublicIPlb1",
          "location": "westus", "tags": {}, "dependsOn": [], "properties":
          {"publicIPAllocationMethod": "Dynamic"}, "sku": {"name": "Basic"}},
          {"type": "Microsoft.Network/loadBalancers", "name": "lb1", "location":
          "westus", "tags": {}, "apiVersion": "2018-10-01", "dependsOn":
          ["Microsoft.Network/publicIpAddresses/PublicIPlb1"], "properties":
          {"backendAddressPools": [{"name": "lb1bepool"}],
          "frontendIPConfigurations": [{"name": "LoadBalancerFrontEnd",
          "properties": {"publicIPAddress": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1"}}}]},
          "sku": {"name": "Basic"}}], "outputs": {"loadBalancer": {"type":
          "object", "value": "[reference(\'lb1\')]"}}}, "parameters": {},
          "mode": "Incremental"}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb create
          Connection: keep-alive
          Content-Length: '1145'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/lb_deploy_UeWlBTFt000UFAHK74JFkcc4ljN9rSji","name":"lb_deploy_UeWlBTFt000UFAHK74JFkcc4ljN9rSji","properties":{"templateHash":"7382546252863517299","parameters":{},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2019-01-30T21:01:35.201172Z","duration":"PT0.7770895S","correlationId":"0fc7d077-7f93-41db-aa78-cb2ecfa5df38","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"loadBalancers","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIPlb1"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1","resourceType":"Microsoft.Network/loadBalancers","resourceName":"lb1"}]}}
      - step: RawStep_2100
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/mock-deployment/operationStatuses/08586527247910535441?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb create
          Connection: keep-alive
          ParameterSetName: '-g -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
        responseExpected: '{"status":"Succeeded"}'
      - step: RawStep_2101
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb create
          Connection: keep-alive
          ParameterSetName: '-g -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/lb_deploy_UeWlBTFt000UFAHK74JFkcc4ljN9rSji","name":"lb_deploy_UeWlBTFt000UFAHK74JFkcc4ljN9rSji","properties":{"templateHash":"7382546252863517299","parameters":{},"mode":"Incremental","provisioningState":"Succeeded","timestamp":"2019-01-30T21:01:55.1457647Z","duration":"PT20.7216822S","correlationId":"0fc7d077-7f93-41db-aa78-cb2ecfa5df38","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"publicIPAddresses","locations":["westus"]},{"resourceType":"loadBalancers","locations":["westus"]}]}],"dependencies":[{"dependsOn":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1","resourceType":"Microsoft.Network/publicIPAddresses","resourceName":"PublicIPlb1"}],"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1","resourceType":"Microsoft.Network/loadBalancers","resourceName":"lb1"}],"outputs":{"loadBalancer":{"type":"Object","value":{"provisioningState":"Succeeded","resourceGuid":"5cf6de6c-c72c-4d18-b2bc-25f15a0f90e9","frontendIPConfigurations":[{"name":"LoadBalancerFrontEnd","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/frontendIPConfigurations/LoadBalancerFrontEnd","etag":"W/\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\"","type":"Microsoft.Network/loadBalancers/frontendIPConfigurations","properties":{"provisioningState":"Succeeded","privateIPAllocationMethod":"Dynamic","publicIPAddress":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1"}}}],"backendAddressPools":[{"name":"lb1bepool","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/lb1bepool","etag":"W/\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\"","properties":{"provisioningState":"Succeeded"},"type":"Microsoft.Network/loadBalancers/backendAddressPools"}],"loadBalancingRules":[],"probes":[],"inboundNatRules":[],"inboundNatPools":[]}}},"outputResources":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1"}]}}
      - step: RawStep_2102
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1?api-version=2018-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb address-pool create
          Connection: keep-alive
          ParameterSetName: '-g --lb-name -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"lb1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1","etag":"W/\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\"","type":"Microsoft.Network/loadBalancers","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"5cf6de6c-c72c-4d18-b2bc-25f15a0f90e9","frontendIPConfigurations":[{"name":"LoadBalancerFrontEnd","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/frontendIPConfigurations/LoadBalancerFrontEnd","etag":"W/\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\"","type":"Microsoft.Network/loadBalancers/frontendIPConfigurations","properties":{"provisioningState":"Succeeded","privateIPAllocationMethod":"Dynamic","publicIPAddress":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1"}}}],"backendAddressPools":[{"name":"lb1bepool","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/lb1bepool","etag":"W/\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\"","properties":{"provisioningState":"Succeeded"},"type":"Microsoft.Network/loadBalancers/backendAddressPools"}],"loadBalancingRules":[],"probes":[],"inboundNatRules":[],"inboundNatPools":[]},"sku":{"name":"Basic","tier":"Regional"}}
      - step: RawStep_2103
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1?api-version=2018-10-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1",
          "location": "westus", "tags": {}, "sku": {"name": "Basic"},
          "properties": {"frontendIPConfigurations": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/frontendIPConfigurations/LoadBalancerFrontEnd",
          "properties": {"privateIPAllocationMethod": "Dynamic",
          "publicIPAddress": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1"},
          "provisioningState": "Succeeded"}, "name": "LoadBalancerFrontEnd",
          "etag": "W/\\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\\""}],
          "backendAddressPools": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/lb1bepool",
          "properties": {"provisioningState": "Succeeded"}, "name": "lb1bepool",
          "etag": "W/\\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\\""}, {"name":
          "pool1"}], "loadBalancingRules": [], "probes": [], "inboundNatRules":
          [], "inboundNatPools": [], "resourceGuid":
          "5cf6de6c-c72c-4d18-b2bc-25f15a0f90e9", "provisioningState":
          "Succeeded"}, "etag": "W/\\"d492ffbd-3629-4a48-9ce8-1f3ade9bdf6c\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network lb address-pool create
          Connection: keep-alive
          Content-Length: '1586'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g --lb-name -n'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"lb1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1","etag":"W/\"fe16b153-9166-4476-a48f-916ff747940a\"","type":"Microsoft.Network/loadBalancers","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"5cf6de6c-c72c-4d18-b2bc-25f15a0f90e9","frontendIPConfigurations":[{"name":"LoadBalancerFrontEnd","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/frontendIPConfigurations/LoadBalancerFrontEnd","etag":"W/\"fe16b153-9166-4476-a48f-916ff747940a\"","type":"Microsoft.Network/loadBalancers/frontendIPConfigurations","properties":{"provisioningState":"Succeeded","privateIPAllocationMethod":"Dynamic","publicIPAddress":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/publicIPAddresses/PublicIPlb1"}}}],"backendAddressPools":[{"name":"lb1bepool","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/lb1bepool","etag":"W/\"fe16b153-9166-4476-a48f-916ff747940a\"","properties":{"provisioningState":"Succeeded"},"type":"Microsoft.Network/loadBalancers/backendAddressPools"},{"name":"pool1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/pool1","etag":"W/\"fe16b153-9166-4476-a48f-916ff747940a\"","properties":{"provisioningState":"Succeeded"},"type":"Microsoft.Network/loadBalancers/backendAddressPools"}],"loadBalancingRules":[],"probes":[],"inboundNatRules":[],"inboundNatPools":[]},"sku":{"name":"Basic","tier":"Regional"}}
      - step: RawStep_2104
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1?api-version=2018-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic ip-config address-pool add
          Connection: keep-alive
          ParameterSetName: '-g --lb-name --nic-name --ip-config-name --address-pool'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"nic1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1","etag":"W/\"79332d2e-6d12-4bcc-8ee1-2469d1aa6e5d\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ce47bce5-32bd-448b-8ad5-0e3a484eb383","ipConfigurations":[{"name":"ipconfig1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1","etag":"W/\"79332d2e-6d12-4bcc-8ee1-2469d1aa6e5d\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},"primary":true,"privateIPAddressVersion":"IPv4"}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},"enableAcceleratedNetworking":false,"enableIPForwarding":false,"hostedWorkloads":[],"tapConfigurations":[]},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2105
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1?api-version=2018-10-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1",
          "location": "westus", "properties": {"ipConfigurations": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1",
          "properties": {"loadBalancerBackendAddressPools": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/pool1"}],
          "privateIPAddress": "10.0.0.4", "privateIPAllocationMethod":
          "Dynamic", "privateIPAddressVersion": "IPv4", "subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},
          "primary": true, "provisioningState": "Succeeded"}, "name":
          "ipconfig1", "etag": "W/\\"79332d2e-6d12-4bcc-8ee1-2469d1aa6e5d\\""}],
          "tapConfigurations": [], "dnsSettings": {"dnsServers": [],
          "appliedDnsServers": [], "internalDomainNameSuffix":
          "3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},
          "enableAcceleratedNetworking": false, "enableIPForwarding": false,
          "resourceGuid": "ce47bce5-32bd-448b-8ad5-0e3a484eb383",
          "provisioningState": "Succeeded"}, "etag":
          "W/\\"79332d2e-6d12-4bcc-8ee1-2469d1aa6e5d\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic ip-config address-pool add
          Connection: keep-alive
          Content-Length: '1616'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g --lb-name --nic-name --ip-config-name --address-pool'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"nic1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1","etag":"W/\"d68ead92-0e2c-4fad-a93e-7f710488918c\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ce47bce5-32bd-448b-8ad5-0e3a484eb383","ipConfigurations":[{"name":"ipconfig1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1","etag":"W/\"d68ead92-0e2c-4fad-a93e-7f710488918c\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},"primary":true,"privateIPAddressVersion":"IPv4","loadBalancerBackendAddressPools":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/pool1"}]}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},"enableAcceleratedNetworking":false,"enableIPForwarding":false,"hostedWorkloads":[],"tapConfigurations":[]},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2106
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1?api-version=2018-10-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1",
          "location": "westus", "properties": {"ipConfigurations": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1",
          "properties": {"loadBalancerBackendAddressPools": [],
          "privateIPAddress": "10.0.0.4", "privateIPAllocationMethod":
          "Dynamic", "privateIPAddressVersion": "IPv4", "subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},
          "primary": true, "provisioningState": "Succeeded"}, "name":
          "ipconfig1", "etag": "W/\\"d68ead92-0e2c-4fad-a93e-7f710488918c\\""}],
          "tapConfigurations": [], "dnsSettings": {"dnsServers": [],
          "appliedDnsServers": [], "internalDomainNameSuffix":
          "3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},
          "enableAcceleratedNetworking": false, "enableIPForwarding": false,
          "resourceGuid": "ce47bce5-32bd-448b-8ad5-0e3a484eb383",
          "provisioningState": "Succeeded"}, "etag":
          "W/\\"d68ead92-0e2c-4fad-a93e-7f710488918c\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic ip-config address-pool remove
          Connection: keep-alive
          Content-Length: '1392'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g --lb-name --nic-name --ip-config-name --address-pool'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"nic1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1","etag":"W/\"79f970ac-047f-4e70-8949-47b9006130f5\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ce47bce5-32bd-448b-8ad5-0e3a484eb383","ipConfigurations":[{"name":"ipconfig1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1","etag":"W/\"79f970ac-047f-4e70-8949-47b9006130f5\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},"primary":true,"privateIPAddressVersion":"IPv4"}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},"enableAcceleratedNetworking":false,"enableIPForwarding":false,"hostedWorkloads":[],"tapConfigurations":[]},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2107
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1?api-version=2018-10-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1",
          "location": "westus", "properties": {"ipConfigurations": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1",
          "properties": {"loadBalancerBackendAddressPools": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/pool1"}],
          "privateIPAddress": "10.0.0.4", "privateIPAllocationMethod":
          "Dynamic", "privateIPAddressVersion": "IPv4", "subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},
          "primary": true, "provisioningState": "Succeeded"}, "name":
          "ipconfig1", "etag": "W/\\"79f970ac-047f-4e70-8949-47b9006130f5\\""}],
          "tapConfigurations": [], "dnsSettings": {"dnsServers": [],
          "appliedDnsServers": [], "internalDomainNameSuffix":
          "3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},
          "enableAcceleratedNetworking": false, "enableIPForwarding": false,
          "resourceGuid": "ce47bce5-32bd-448b-8ad5-0e3a484eb383",
          "provisioningState": "Succeeded"}, "etag":
          "W/\\"79f970ac-047f-4e70-8949-47b9006130f5\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic ip-config address-pool add
          Connection: keep-alive
          Content-Length: '1616'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g --nic-name --ip-config-name --address-pool'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"nic1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1","etag":"W/\"776078cf-80c3-4056-a9aa-92c1c24d1d59\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ce47bce5-32bd-448b-8ad5-0e3a484eb383","ipConfigurations":[{"name":"ipconfig1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1","etag":"W/\"776078cf-80c3-4056-a9aa-92c1c24d1d59\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},"primary":true,"privateIPAddressVersion":"IPv4","loadBalancerBackendAddressPools":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/loadBalancers/lb1/backendAddressPools/pool1"}]}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},"enableAcceleratedNetworking":false,"enableIPForwarding":false,"hostedWorkloads":[],"tapConfigurations":[]},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2108
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1?api-version=2018-10-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1",
          "location": "westus", "properties": {"ipConfigurations": [{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1",
          "properties": {"loadBalancerBackendAddressPools": [],
          "privateIPAddress": "10.0.0.4", "privateIPAllocationMethod":
          "Dynamic", "privateIPAddressVersion": "IPv4", "subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},
          "primary": true, "provisioningState": "Succeeded"}, "name":
          "ipconfig1", "etag": "W/\\"776078cf-80c3-4056-a9aa-92c1c24d1d59\\""}],
          "tapConfigurations": [], "dnsSettings": {"dnsServers": [],
          "appliedDnsServers": [], "internalDomainNameSuffix":
          "3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},
          "enableAcceleratedNetworking": false, "enableIPForwarding": false,
          "resourceGuid": "ce47bce5-32bd-448b-8ad5-0e3a484eb383",
          "provisioningState": "Succeeded"}, "etag":
          "W/\\"776078cf-80c3-4056-a9aa-92c1c24d1d59\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network nic ip-config address-pool remove
          Connection: keep-alive
          Content-Length: '1392'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g --nic-name --ip-config-name --address-pool'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 networkmanagementclient/2.4.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"name":"nic1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1","etag":"W/\"f9db4e3f-d9b5-481d-a130-362a708484bd\"","location":"westus","properties":{"provisioningState":"Succeeded","resourceGuid":"ce47bce5-32bd-448b-8ad5-0e3a484eb383","ipConfigurations":[{"name":"ipconfig1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/networkInterfaces/nic1/ipConfigurations/ipconfig1","etag":"W/\"f9db4e3f-d9b5-481d-a130-362a708484bd\"","type":"Microsoft.Network/networkInterfaces/ipConfigurations","properties":{"provisioningState":"Succeeded","privateIPAddress":"10.0.0.4","privateIPAllocationMethod":"Dynamic","subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"},"primary":true,"privateIPAddressVersion":"IPv4"}}],"dnsSettings":{"dnsServers":[],"appliedDnsServers":[],"internalDomainNameSuffix":"3akxyociujteljxfrxorrvnm0e.dx.internal.cloudapp.net"},"enableAcceleratedNetworking":false,"enableIPForwarding":false,"hostedWorkloads":[],"tapConfigurations":[]},"type":"Microsoft.Network/networkInterfaces"}
      - step: RawStep_2109
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network application-gateway create
          Connection: keep-alive
          ParameterSetName: '-g -n --vnet-name --subnet --no-wait'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001","name":"cli_test_nic_address_pools000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2019-01-30T21:00:42Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_2110
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resources?$filter=resourceGroup%20eq%20%27cli_test_nic_address_pools000001%27%20and%20name%20eq%20%27vnet1%27%20and%20resourceType%20eq%20%27Microsoft.Network%2FvirtualNetworks%27&api-version=2018-05-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network application-gateway create
          Connection: keep-alive
          ParameterSetName: '-g -n --vnet-name --subnet --no-wait'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        responseExpected: >-
          {"value":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1","name":"vnet1","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{}}]}
      - step: RawStep_2111
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/mock-deployment?api-version=2019-07-01
        requestBody: >-
          b'{"properties": {"template": {"$schema":
          "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
          "contentVersion": "1.0.0.0", "parameters": {}, "variables":
          {"appGwID": "[resourceId(\'Microsoft.Network/applicationGateways\',
          \'ag1\')]"}, "resources": [{"type":
          "Microsoft.Network/applicationGateways", "name": "ag1", "location":
          "westus", "tags": {}, "apiVersion": "2018-10-01", "dependsOn": [],
          "properties": {"backendAddressPools": [{"name":
          "appGatewayBackendPool"}], "backendHttpSettingsCollection": [{"name":
          "appGatewayBackendHttpSettings", "properties": {"Port": 80,
          "Protocol": "Http", "CookieBasedAffinity": "disabled",
          "connectionDraining": {"enabled": false, "drainTimeoutInSec": 1}}}],
          "frontendIPConfigurations": [{"name": "appGatewayFrontendIP",
          "properties": {"privateIPAllocationMethod": "Dynamic",
          "privateIPAddress": "", "subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"}}}],
          "frontendPorts": [{"name": "appGatewayFrontendPort", "properties":
          {"Port": 80}}], "gatewayIPConfigurations": [{"name":
          "appGatewayFrontendIP", "properties": {"subnet": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Network/virtualNetworks/vnet1/subnets/subnet1"}}}],
          "httpListeners": [{"name": "appGatewayHttpListener", "properties":
          {"FrontendIpConfiguration": {"Id": "[concat(variables(\'appGwID\'),
          \'/frontendIPConfigurations/appGatewayFrontendIP\')]"},
          "FrontendPort": {"Id": "[concat(variables(\'appGwID\'),
          \'/frontendPorts/appGatewayFrontendPort\')]"}, "Protocol": "http",
          "SslCertificate": null}}], "sku": {"name": "Standard_Medium", "tier":
          "Standard", "capacity": 2}, "requestRoutingRules": [{"Name": "rule1",
          "properties": {"RuleType": "Basic", "httpListener": {"id":
          "[concat(variables(\'appGwID\'),
          \'/httpListeners/appGatewayHttpListener\')]"}, "backendAddressPool":
          {"id": "[concat(variables(\'appGwID\'),
          \'/backendAddressPools/appGatewayBackendPool\')]"},
          "backendHttpSettings": {"id": "[concat(variables(\'appGwID\'),
          \'/backendHttpSettingsCollection/appGatewayBackendHttpSettings\')]"}}}]},
          "zones": null}], "outputs": {"applicationGateway": {"type": "object",
          "value": "[reference(\'ag1\')]"}}}, "parameters": {}, "mode":
          "Incremental"}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network application-gateway create
          Connection: keep-alive
          Content-Length: '2455'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --vnet-name --subnet --no-wait'
          User-Agent: >-
            python/3.6.5 (Windows-10-10.0.17134-SP0) msrest/0.6.4
            msrest_azure/0.4.34 resourcemanagementclient/2.1.0
            Azure-SDK-For-Python AZURECLI/2.0.56
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_nic_address_pools000001/providers/Microsoft.Resources/deployments/ag_deploy_mlxwR4e2woudN1P8SXwvYqT5nSGxVJg6","name":"ag_deploy_mlxwR4e2woudN1P8SXwvYqT5nSGxVJg6","properties":{"templateHash":"10613883561696206674","parameters":{},"mode":"Incremental","provisioningState":"Accepted","timestamp":"2019-01-30T21:04:56.2655612Z","duration":"PT0.8863683S","correlationId":"c6a23e85-746a-4a10-a41a-7415ceac418d","providers":[{"namespace":"Microsoft.Network","resourceTypes":[{"resourceType":"applicationGateways","locations":["westus"]}]}],"dependencies":[]}}
