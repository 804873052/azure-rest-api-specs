scope: ResourceGroup
testScenarios:
  - description: test_private_endpoint_connection_webapp
    steps:
      - step: RawStep_3365
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet create
          Connection: keep-alive
          ParameterSetName: '-n -g --subnet-name'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-resource/12.0.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-25T02:28:09Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_3366
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004?api-version=2020-08-01
        requestBody: >-
          {"location":"westus2","tags":{},"properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{},"subnets":[{"name":"webapp-privatelink-subnet000005","properties":{"addressPrefix":"10.0.0.0/24"}}]}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet create
          Connection: keep-alive
          Content-Length: '239'
          Content-Type: application/json
          ParameterSetName: '-n -g --subnet-name'
          User-Agent: >-
            AZURECLI/2.19.1 azsdk-python-azure-mgmt-network/18.0.0 Python/3.7.4
            (Windows-10-10.0.19041-SP0)
        statusCode: 201
        responseExpected: >-
          {"name":"webapp-privatelink-vnet000004","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004","etag":"W/\"40796257-5af0-4281-89ee-92e831cad5e6\"","type":"Microsoft.Network/virtualNetworks","location":"westus2","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"48cb130d-0cb1-4f63-ac4f-78143ba4ca52","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[{"name":"webapp-privatelink-subnet000005","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005","etag":"W/\"40796257-5af0-4281-89ee-92e831cad5e6\"","properties":{"provisioningState":"Updating","addressPrefix":"10.0.0.0/24","delegations":[],"privateEndpointNetworkPolicies":"Enabled","privateLinkServiceNetworkPolicies":"Enabled"},"type":"Microsoft.Network/virtualNetworks/subnets"}],"virtualNetworkPeerings":[],"enableDdosProtection":false}}
      - step: RawStep_3367
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005?api-version=2020-08-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet subnet update
          Connection: keep-alive
          ParameterSetName: '-n --vnet-name -g --disable-private-endpoint-network-policies'
          User-Agent: >-
            AZURECLI/2.19.1 azsdk-python-azure-mgmt-network/18.0.0 Python/3.7.4
            (Windows-10-10.0.19041-SP0)
        responseExpected: >-
          {"name":"webapp-privatelink-subnet000005","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005","etag":"W/\"1f8adef2-1394-4172-a8a3-ed26a7e89efd\"","properties":{"provisioningState":"Succeeded","addressPrefix":"10.0.0.0/24","delegations":[],"privateEndpointNetworkPolicies":"Enabled","privateLinkServiceNetworkPolicies":"Enabled"},"type":"Microsoft.Network/virtualNetworks/subnets"}
      - step: RawStep_3368
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005?api-version=2020-08-01
        requestBody: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005","name":"webapp-privatelink-subnet000005","properties":{"addressPrefix":"10.0.0.0/24","delegations":[],"privateEndpointNetworkPolicies":"Disabled","privateLinkServiceNetworkPolicies":"Enabled"}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet subnet update
          Connection: keep-alive
          Content-Length: '499'
          Content-Type: application/json
          ParameterSetName: '-n --vnet-name -g --disable-private-endpoint-network-policies'
          User-Agent: >-
            AZURECLI/2.19.1 azsdk-python-azure-mgmt-network/18.0.0 Python/3.7.4
            (Windows-10-10.0.19041-SP0)
        statusCode: 503
        responseExpected: >-
          {"error":{"code":"ServerTimeout","message":"The request timed out.
          Diagnostic information: timestamp '20210225T022930Z', subscription id
          '0b1f6471-1bf0-4dda-aec3-cb9272f09590', tracking id
          '42dc447f-7a74-45d3-bfbc-9706dbc09246', request correlation id
          '42dc447f-7a74-45d3-bfbc-9706dbc09246'."}}
      - step: RawStep_3369
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005?api-version=2020-08-01
        requestBody: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005","name":"webapp-privatelink-subnet000005","properties":{"addressPrefix":"10.0.0.0/24","delegations":[],"privateEndpointNetworkPolicies":"Disabled","privateLinkServiceNetworkPolicies":"Enabled"}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet subnet update
          Connection: keep-alive
          Content-Length: '499'
          Content-Type: application/json
          ParameterSetName: '-n --vnet-name -g --disable-private-endpoint-network-policies'
          User-Agent: >-
            AZURECLI/2.19.1 azsdk-python-azure-mgmt-network/18.0.0 Python/3.7.4
            (Windows-10-10.0.19041-SP0)
        responseExpected: >-
          {"name":"webapp-privatelink-subnet000005","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005","etag":"W/\"b3dccfda-1650-4576-b2a2-f6d9985a82a2\"","properties":{"provisioningState":"Updating","addressPrefix":"10.0.0.0/24","delegations":[],"privateEndpointNetworkPolicies":"Disabled","privateLinkServiceNetworkPolicies":"Enabled"},"type":"Microsoft.Network/virtualNetworks/subnets"}
      - step: RawStep_3370
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: appservice plan create
          Connection: keep-alive
          ParameterSetName: '-g -n --sku'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-resource/12.0.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-25T02:28:09Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_3371
        method: POST
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/validate?api-version=2019-08-01
        requestBody: >-
          {"name":"webapp-privatelink-asp000003","type":"Microsoft.Web/serverfarms","location":"westus2","properties":{"skuName":"P1V2","capacity":1}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: appservice plan create
          Connection: keep-alive
          Content-Length: '162'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --sku'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: '{"status":"Success","error":null}'
      - step: RawStep_3372
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: appservice plan create
          Connection: keep-alive
          ParameterSetName: '-g -n --sku'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-resource/12.0.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-25T02:28:09Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_3373
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003?api-version=2019-08-01
        requestBody: >-
          {"location":"westus2","properties":{"perSiteScaling":false,"isXenon":false},"sku":{"name":"P1V2","tier":"PREMIUMV2","capacity":1}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: appservice plan create
          Connection: keep-alive
          Content-Length: '143'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --sku'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003","name":"webapp-privatelink-asp000003","type":"Microsoft.Web/serverfarms","kind":"app","location":"westus2","properties":{"serverFarmId":9774,"name":"webapp-privatelink-asp000003","sku":{"name":"P1v2","tier":"PremiumV2","size":"P1v2","family":"Pv2","capacity":1},"workerSize":"D1","workerSizeId":3,"workerTierName":null,"numberOfWorkers":1,"currentWorkerSize":"D1","currentWorkerSizeId":3,"currentNumberOfWorkers":1,"status":"Ready","webSpace":"clitest.rg000001-WestUS2webspace","subscription":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","adminSiteName":null,"hostingEnvironment":null,"hostingEnvironmentProfile":null,"maximumNumberOfWorkers":0,"planName":"VirtualDedicatedPlan","adminRuntimeSiteName":null,"computeMode":"Dedicated","siteMode":null,"geoRegion":"West
          US
          2","perSiteScaling":false,"maximumElasticWorkerCount":1,"numberOfSites":0,"hostingEnvironmentId":null,"isSpot":false,"spotExpirationTime":null,"freeOfferExpirationTime":null,"tags":null,"kind":"app","resourceGroup":"clitest.rg000001","reserved":false,"isXenon":false,"hyperV":false,"mdmId":"waws-prod-mwh-065_9774","targetWorkerCount":0,"targetWorkerSizeId":0,"provisioningState":"Succeeded","webSiteId":null,"existingServerFarmIds":null,"azBalancing":false},"sku":{"name":"P1v2","tier":"PremiumV2","size":"P1v2","family":"Pv2","capacity":1}}
      - step: RawStep_3374
        method: POST
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/validate?api-version=2019-08-01
        requestBody: >-
          {"name":"webapp-privatelink-webapp000002","type":"Microsoft.Web/sites","location":"West
          US
          2","properties":{"serverFarmId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003"}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: webapp create
          Connection: keep-alive
          Content-Length: '363'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --plan'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: '{"status":"Success","error":null}'
      - step: RawStep_3375
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003?api-version=2019-08-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: webapp create
          Connection: keep-alive
          ParameterSetName: '-g -n --plan'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003","name":"webapp-privatelink-asp000003","type":"Microsoft.Web/serverfarms","kind":"app","location":"West
          US
          2","properties":{"serverFarmId":9774,"name":"webapp-privatelink-asp000003","workerSize":"D1","workerSizeId":3,"workerTierName":null,"numberOfWorkers":1,"currentWorkerSize":"D1","currentWorkerSizeId":3,"currentNumberOfWorkers":1,"status":"Ready","webSpace":"clitest.rg000001-WestUS2webspace","subscription":"0b1f6471-1bf0-4dda-aec3-cb9272f09590","adminSiteName":null,"hostingEnvironment":null,"hostingEnvironmentProfile":null,"maximumNumberOfWorkers":30,"planName":"VirtualDedicatedPlan","adminRuntimeSiteName":null,"computeMode":"Dedicated","siteMode":null,"geoRegion":"West
          US
          2","perSiteScaling":false,"maximumElasticWorkerCount":1,"numberOfSites":0,"hostingEnvironmentId":null,"isSpot":false,"spotExpirationTime":null,"freeOfferExpirationTime":null,"tags":null,"kind":"app","resourceGroup":"clitest.rg000001","reserved":false,"isXenon":false,"hyperV":false,"mdmId":"waws-prod-mwh-065_9774","targetWorkerCount":0,"targetWorkerSizeId":0,"provisioningState":"Succeeded","webSiteId":null,"existingServerFarmIds":null,"azBalancing":false},"sku":{"name":"P1v2","tier":"PremiumV2","size":"P1v2","family":"Pv2","capacity":1}}
      - step: RawStep_3376
        method: POST
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Web/checknameavailability?api-version=2019-08-01
        requestBody: '{"name":"webapp-privatelink-webapp000002","type":"Site"}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: webapp create
          Connection: keep-alive
          Content-Length: '68'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --plan'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: '{"nameAvailable":true,"reason":"","message":""}'
      - step: RawStep_3377
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002?api-version=2019-08-01
        requestBody: >-
          {"location":"West US
          2","properties":{"serverFarmId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003","reserved":false,"isXenon":false,"hyperV":false,"siteConfig":{"netFrameworkVersion":"v4.6","appSettings":[{"name":"WEBSITE_NODE_DEFAULT_VERSION","value":"10.14.1"}],"alwaysOn":true,"localMySqlEnabled":false,"http20Enabled":true},"scmSiteAlsoStopped":false,"httpsOnly":false}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: webapp create
          Connection: keep-alive
          Content-Length: '578'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --plan'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","name":"webapp-privatelink-webapp000002","type":"Microsoft.Web/sites","kind":"app","location":"West
          US
          2","properties":{"name":"webapp-privatelink-webapp000002","state":"Running","hostNames":["webapp-privatelink-webapp000002.azurewebsites.net"],"webSpace":"clitest.rg000001-WestUS2webspace","selfLink":"https://waws-prod-mwh-065.api.azurewebsites.windows.net:454/subscriptions/00000000-0000-0000-0000-000000000000/webspaces/clitest.rg000001-WestUS2webspace/sites/webapp-privatelink-webapp000002","repositorySiteName":"webapp-privatelink-webapp000002","owner":null,"usageState":"Normal","enabled":true,"adminEnabled":true,"enabledHostNames":["webapp-privatelink-webapp000002.azurewebsites.net","webapp-privatelink-webapp000002.scm.azurewebsites.net"],"siteProperties":{"metadata":null,"properties":[{"name":"LinuxFxVersion","value":""},{"name":"WindowsFxVersion","value":null}],"appSettings":null},"availabilityState":"Normal","sslCertificates":null,"csrs":[],"cers":null,"siteMode":null,"hostNameSslStates":[{"name":"webapp-privatelink-webapp000002.azurewebsites.net","sslState":"Disabled","ipBasedSslResult":null,"virtualIP":null,"thumbprint":null,"toUpdate":null,"toUpdateIpBasedSsl":null,"ipBasedSslState":"NotConfigured","hostType":"Standard"},{"name":"webapp-privatelink-webapp000002.scm.azurewebsites.net","sslState":"Disabled","ipBasedSslResult":null,"virtualIP":null,"thumbprint":null,"toUpdate":null,"toUpdateIpBasedSsl":null,"ipBasedSslState":"NotConfigured","hostType":"Repository"}],"computeMode":null,"serverFarm":null,"serverFarmId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003","reserved":false,"isXenon":false,"hyperV":false,"lastModifiedTimeUtc":"2021-02-25T02:29:57.9866667","storageRecoveryDefaultState":"Running","contentAvailabilityState":"Normal","runtimeAvailabilityState":"Normal","siteConfig":{"numberOfWorkers":null,"defaultDocuments":null,"netFrameworkVersion":null,"phpVersion":null,"pythonVersion":null,"nodeVersion":null,"powerShellVersion":null,"linuxFxVersion":null,"windowsFxVersion":null,"requestTracingEnabled":null,"remoteDebuggingEnabled":null,"remoteDebuggingVersion":null,"httpLoggingEnabled":null,"azureMonitorLogCategories":null,"acrUseManagedIdentityCreds":false,"acrUserManagedIdentityID":null,"logsDirectorySizeLimit":null,"detailedErrorLoggingEnabled":null,"publishingUsername":null,"publishingPassword":null,"appSettings":null,"azureStorageAccounts":null,"metadata":null,"connectionStrings":null,"machineKey":null,"handlerMappings":null,"documentRoot":null,"scmType":null,"use32BitWorkerProcess":null,"webSocketsEnabled":null,"alwaysOn":null,"javaVersion":null,"javaContainer":null,"javaContainerVersion":null,"appCommandLine":null,"managedPipelineMode":null,"virtualApplications":null,"winAuthAdminState":null,"winAuthTenantState":null,"customAppPoolIdentityAdminState":null,"customAppPoolIdentityTenantState":null,"runtimeADUser":null,"runtimeADUserPassword":null,"loadBalancing":null,"routingRules":null,"experiments":null,"limits":null,"autoHealEnabled":null,"autoHealRules":null,"tracingOptions":null,"vnetName":null,"vnetRouteAllEnabled":null,"vnetPrivatePortsCount":null,"cors":null,"push":null,"apiDefinition":null,"apiManagementConfig":null,"autoSwapSlotName":null,"localMySqlEnabled":null,"managedServiceIdentityId":null,"xManagedServiceIdentityId":null,"ipSecurityRestrictions":[{"ipAddress":"Any","action":"Allow","priority":1,"name":"Allow
          all","description":"Allow all
          access"}],"scmIpSecurityRestrictions":[{"ipAddress":"Any","action":"Allow","priority":1,"name":"Allow
          all","description":"Allow all
          access"}],"scmIpSecurityRestrictionsUseMain":null,"http20Enabled":null,"minTlsVersion":null,"scmMinTlsVersion":null,"ftpsState":null,"preWarmedInstanceCount":null,"functionAppScaleLimit":null,"healthCheckPath":null,"fileChangeAuditEnabled":null,"functionsRuntimeScaleMonitoringEnabled":null,"websiteTimeZone":null,"minimumElasticInstanceCount":0},"deploymentId":"webapp-privatelink-webapp000002","trafficManagerHostNames":null,"sku":"PremiumV2","scmSiteAlsoStopped":false,"targetSwapSlot":null,"hostingEnvironment":null,"hostingEnvironmentProfile":null,"clientAffinityEnabled":true,"clientCertEnabled":false,"clientCertMode":"Required","clientCertExclusionPaths":null,"hostNamesDisabled":false,"domainVerificationIdentifiers":null,"customDomainVerificationId":"253001F2FCF5A7B1CD759EB861E9BB1596370BE27E47A991F72184277B3D12F2","kind":"app","inboundIpAddress":"40.64.128.228","possibleInboundIpAddresses":"40.64.128.228","ftpUsername":"webapp-privatelink-webapp000002\\$webapp-privatelink-webapp000002","ftpsHostName":"ftps://waws-prod-mwh-065.ftp.azurewebsites.windows.net/site/wwwroot","outboundIpAddresses":"20.72.192.161,20.72.192.166,20.72.192.169,20.72.192.222,20.72.192.250,20.72.193.46,40.64.128.228","possibleOutboundIpAddresses":"20.72.192.39,20.72.192.87,20.72.192.99,20.72.192.146,20.72.192.156,20.72.192.159,20.72.192.161,20.72.192.166,20.72.192.169,20.72.192.222,20.72.192.250,20.72.193.46,20.72.193.92,20.72.193.103,20.72.193.104,20.72.193.106,20.72.193.117,20.72.193.118,20.72.193.121,20.72.193.133,20.72.193.162,20.72.193.174,20.72.193.181,20.72.193.194,20.72.193.229,20.72.193.242,20.72.194.0,51.143.126.35,51.143.58.61,51.143.59.101,40.64.128.228","containerSize":0,"dailyMemoryTimeQuota":0,"suspendedTill":null,"siteDisabledReason":0,"functionExecutionUnitsCache":null,"maxNumberOfWorkers":null,"homeStamp":"waws-prod-mwh-065","cloningInfo":null,"hostingEnvironmentId":null,"tags":null,"resourceGroup":"clitest.rg000001","defaultHostName":"webapp-privatelink-webapp000002.azurewebsites.net","slotSwapStatus":null,"httpsOnly":false,"redundancyMode":"None","inProgressOperationId":null,"geoDistributions":null,"privateEndpointConnections":null,"buildVersion":null,"targetBuildVersion":null,"migrationState":null,"eligibleLogCategories":"AppServiceAppLogs,AppServiceAuditLogs,AppServiceConsoleLogs,AppServiceHTTPLogs,AppServiceIPSecAuditLogs,AppServicePlatformLogs,ScanLogs,AppServiceFileAuditLogs,AppServiceAntivirusScanAuditLogs","storageAccountRequired":false}}
      - step: RawStep_3378
        method: POST
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/publishxml?api-version=2019-08-01
        requestBody: '{}'
        requestHeaders:
          Accept: application/xml
          Accept-Encoding: gzip, deflate
          CommandName: webapp create
          Connection: keep-alive
          Content-Length: '2'
          Content-Type: application/json; charset=utf-8
          ParameterSetName: '-g -n --plan'
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-web/0.48.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          <publishData><publishProfile
          profileName="webapp-privatelink-webapp000002 - Web Deploy"
          publishMethod="MSDeploy"
          publishUrl="webapp-privatelink-webapp000002.scm.azurewebsites.net:443"
          msdeploySite="webapp-privatelink-webapp000002"
          userName="$webapp-privatelink-webapp000002"
          userPWD="yMqpKwLSF5wFCE65D370xstpy9nj4b3oo9A4nEbdTb6HG6hbpgXCGctzq7Md"
          destinationAppUrl="http://webapp-privatelink-webapp000002.azurewebsites.net"
          SQLServerDBConnectionString="" mySQLDBConnectionString=""
          hostingProviderForumLink=""
          controlPanelLink="http://windows.azure.com"
          webSystem="WebSites"><databases /></publishProfile><publishProfile
          profileName="webapp-privatelink-webapp000002 - FTP"
          publishMethod="FTP"
          publishUrl="ftp://waws-prod-mwh-065.ftp.azurewebsites.windows.net/site/wwwroot"
          ftpPassiveMode="True"
          userName="webapp-privatelink-webapp000002\$webapp-privatelink-webapp000002"
          userPWD="yMqpKwLSF5wFCE65D370xstpy9nj4b3oo9A4nEbdTb6HG6hbpgXCGctzq7Md"
          destinationAppUrl="http://webapp-privatelink-webapp000002.azurewebsites.net"
          SQLServerDBConnectionString="" mySQLDBConnectionString=""
          hostingProviderForumLink=""
          controlPanelLink="http://windows.azure.com"
          webSystem="WebSites"><databases /></publishProfile><publishProfile
          profileName="webapp-privatelink-webapp000002 - Zip Deploy"
          publishMethod="ZipDeploy"
          publishUrl="webapp-privatelink-webapp000002.scm.azurewebsites.net:443"
          userName="$webapp-privatelink-webapp000002"
          userPWD="yMqpKwLSF5wFCE65D370xstpy9nj4b3oo9A4nEbdTb6HG6hbpgXCGctzq7Md"
          destinationAppUrl="http://webapp-privatelink-webapp000002.azurewebsites.net"
          SQLServerDBConnectionString="" mySQLDBConnectionString=""
          hostingProviderForumLink=""
          controlPanelLink="http://windows.azure.com"
          webSystem="WebSites"><databases /></publishProfile></publishData>
      - step: RawStep_3379
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint create
          Connection: keep-alive
          ParameterSetName: >-
            -g -n --vnet-name --subnet --connection-name
            --private-connection-resource-id --group-id --manual-request
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-resource/12.0.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-25T02:28:09Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_3380
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006?api-version=2020-08-01
        requestBody: >-
          {"location":"westus2","properties":{"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005"},"manualPrivateLinkServiceConnections":[{"name":"webapp-privatelink-endpointconn000007","properties":{"privateLinkServiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","groupIds":["sites"]}}]}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint create
          Connection: keep-alive
          Content-Length: '712'
          Content-Type: application/json
          ParameterSetName: >-
            -g -n --vnet-name --subnet --connection-name
            --private-connection-resource-id --group-id --manual-request
          User-Agent: >-
            AZURECLI/2.19.1 azsdk-python-azure-mgmt-network/18.0.0 Python/3.7.4
            (Windows-10-10.0.19041-SP0)
        statusCode: 201
        responseExpected: >-
          {"name":"webapp-privatelink-endpoint000006","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006","etag":"W/\"9450d483-5028-4327-b733-d1028cba5a8e\"","type":"Microsoft.Network/privateEndpoints","location":"westus2","properties":{"provisioningState":"Updating","resourceGuid":"cc266937-3503-4501-8862-0d439f3c4ce3","privateLinkServiceConnections":[],"manualPrivateLinkServiceConnections":[{"name":"webapp-privatelink-endpointconn000007","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006/manualPrivateLinkServiceConnections/webapp-privatelink-endpointconn000007","etag":"W/\"9450d483-5028-4327-b733-d1028cba5a8e\"","properties":{"provisioningState":"Succeeded","privateLinkServiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","groupIds":["sites"],"privateLinkServiceConnectionState":{"status":"Pending","description":"Awaiting
          Approval","actionsRequired":"None"}},"type":"Microsoft.Network/privateEndpoints/manualPrivateLinkServiceConnections"}],"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005"},"networkInterfaces":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/networkInterfaces/webapp-privatelink-endpoint000006.nic.c49d9ddc-7bf1-4d97-b884-5273fc4579bd"}],"customDnsConfigs":[]}}
      - step: RawStep_3381
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002?api-version=2019-08-01
        requestHeaders:
          Accept: '*/*'
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint-connection list
          Connection: keep-alive
          ParameterSetName: '-g -n --type'
          User-Agent: python/3.7.4 (Windows-10-10.0.19041-SP0) AZURECLI/2.19.1
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","name":"webapp-privatelink-webapp000002","type":"Microsoft.Web/sites","kind":"app","location":"West
          US
          2","properties":{"name":"webapp-privatelink-webapp000002","state":"Running","hostNames":["webapp-privatelink-webapp000002.azurewebsites.net"],"webSpace":"clitest.rg000001-WestUS2webspace","selfLink":"https://waws-prod-mwh-065.api.azurewebsites.windows.net:454/subscriptions/00000000-0000-0000-0000-000000000000/webspaces/clitest.rg000001-WestUS2webspace/sites/webapp-privatelink-webapp000002","repositorySiteName":"webapp-privatelink-webapp000002","owner":null,"usageState":"Normal","enabled":true,"adminEnabled":true,"enabledHostNames":["webapp-privatelink-webapp000002.azurewebsites.net","webapp-privatelink-webapp000002.scm.azurewebsites.net"],"siteProperties":{"metadata":null,"properties":[{"name":"LinuxFxVersion","value":""},{"name":"WindowsFxVersion","value":null}],"appSettings":null},"availabilityState":"Normal","sslCertificates":null,"csrs":[],"cers":null,"siteMode":null,"hostNameSslStates":[{"name":"webapp-privatelink-webapp000002.azurewebsites.net","sslState":"Disabled","ipBasedSslResult":null,"virtualIP":null,"thumbprint":null,"toUpdate":null,"toUpdateIpBasedSsl":null,"ipBasedSslState":"NotConfigured","hostType":"Standard"},{"name":"webapp-privatelink-webapp000002.scm.azurewebsites.net","sslState":"Disabled","ipBasedSslResult":null,"virtualIP":null,"thumbprint":null,"toUpdate":null,"toUpdateIpBasedSsl":null,"ipBasedSslState":"NotConfigured","hostType":"Repository"}],"computeMode":null,"serverFarm":null,"serverFarmId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003","reserved":false,"isXenon":false,"hyperV":false,"lastModifiedTimeUtc":"2021-02-25T02:29:58.49","storageRecoveryDefaultState":"Running","contentAvailabilityState":"Normal","runtimeAvailabilityState":"Normal","siteConfig":{"numberOfWorkers":null,"defaultDocuments":null,"netFrameworkVersion":null,"phpVersion":null,"pythonVersion":null,"nodeVersion":null,"powerShellVersion":null,"linuxFxVersion":null,"windowsFxVersion":null,"requestTracingEnabled":null,"remoteDebuggingEnabled":null,"remoteDebuggingVersion":null,"httpLoggingEnabled":null,"azureMonitorLogCategories":null,"acrUseManagedIdentityCreds":false,"acrUserManagedIdentityID":null,"logsDirectorySizeLimit":null,"detailedErrorLoggingEnabled":null,"publishingUsername":null,"publishingPassword":null,"appSettings":null,"azureStorageAccounts":null,"metadata":null,"connectionStrings":null,"machineKey":null,"handlerMappings":null,"documentRoot":null,"scmType":null,"use32BitWorkerProcess":null,"webSocketsEnabled":null,"alwaysOn":null,"javaVersion":null,"javaContainer":null,"javaContainerVersion":null,"appCommandLine":null,"managedPipelineMode":null,"virtualApplications":null,"winAuthAdminState":null,"winAuthTenantState":null,"customAppPoolIdentityAdminState":null,"customAppPoolIdentityTenantState":null,"runtimeADUser":null,"runtimeADUserPassword":null,"loadBalancing":null,"routingRules":null,"experiments":null,"limits":null,"autoHealEnabled":null,"autoHealRules":null,"tracingOptions":null,"vnetName":null,"vnetRouteAllEnabled":null,"vnetPrivatePortsCount":null,"cors":null,"push":null,"apiDefinition":null,"apiManagementConfig":null,"autoSwapSlotName":null,"localMySqlEnabled":null,"managedServiceIdentityId":null,"xManagedServiceIdentityId":null,"ipSecurityRestrictions":null,"scmIpSecurityRestrictions":null,"scmIpSecurityRestrictionsUseMain":null,"http20Enabled":null,"minTlsVersion":null,"scmMinTlsVersion":null,"ftpsState":null,"preWarmedInstanceCount":null,"functionAppScaleLimit":null,"healthCheckPath":null,"fileChangeAuditEnabled":null,"functionsRuntimeScaleMonitoringEnabled":null,"websiteTimeZone":null,"minimumElasticInstanceCount":0},"deploymentId":"webapp-privatelink-webapp000002","trafficManagerHostNames":null,"sku":"PremiumV2","scmSiteAlsoStopped":false,"targetSwapSlot":null,"hostingEnvironment":null,"hostingEnvironmentProfile":null,"clientAffinityEnabled":true,"clientCertEnabled":false,"clientCertMode":"Required","clientCertExclusionPaths":null,"hostNamesDisabled":false,"domainVerificationIdentifiers":null,"customDomainVerificationId":"253001F2FCF5A7B1CD759EB861E9BB1596370BE27E47A991F72184277B3D12F2","kind":"app","inboundIpAddress":"40.64.128.228","possibleInboundIpAddresses":"40.64.128.228","ftpUsername":"webapp-privatelink-webapp000002\\$webapp-privatelink-webapp000002","ftpsHostName":"ftps://waws-prod-mwh-065.ftp.azurewebsites.windows.net/site/wwwroot","outboundIpAddresses":"20.72.192.161,20.72.192.166,20.72.192.169,20.72.192.222,20.72.192.250,20.72.193.46,40.64.128.228","possibleOutboundIpAddresses":"20.72.192.39,20.72.192.87,20.72.192.99,20.72.192.146,20.72.192.156,20.72.192.159,20.72.192.161,20.72.192.166,20.72.192.169,20.72.192.222,20.72.192.250,20.72.193.46,20.72.193.92,20.72.193.103,20.72.193.104,20.72.193.106,20.72.193.117,20.72.193.118,20.72.193.121,20.72.193.133,20.72.193.162,20.72.193.174,20.72.193.181,20.72.193.194,20.72.193.229,20.72.193.242,20.72.194.0,51.143.126.35,51.143.58.61,51.143.59.101,40.64.128.228","containerSize":0,"dailyMemoryTimeQuota":0,"suspendedTill":null,"siteDisabledReason":0,"functionExecutionUnitsCache":null,"maxNumberOfWorkers":null,"homeStamp":"waws-prod-mwh-065","cloningInfo":null,"hostingEnvironmentId":null,"tags":null,"resourceGroup":"clitest.rg000001","defaultHostName":"webapp-privatelink-webapp000002.azurewebsites.net","slotSwapStatus":null,"httpsOnly":false,"redundancyMode":"None","inProgressOperationId":null,"geoDistributions":null,"privateEndpointConnections":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","name":"webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006"},"privateLinkServiceConnectionState":{"status":"Pending","description":"","actionsRequired":"None"},"ipAddresses":[]}}],"buildVersion":null,"targetBuildVersion":null,"migrationState":null,"eligibleLogCategories":"AppServiceAppLogs,AppServiceAuditLogs,AppServiceConsoleLogs,AppServiceHTTPLogs,AppServiceIPSecAuditLogs,AppServicePlatformLogs,ScanLogs,AppServiceFileAuditLogs,AppServiceAntivirusScanAuditLogs","storageAccountRequired":false}}
      - step: RawStep_3382
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314?api-version=2019-08-01
        requestHeaders:
          Accept: '*/*'
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint-connection approve
          Connection: keep-alive
          ParameterSetName: '-g --resource-name -n --type'
          User-Agent: python/3.7.4 (Windows-10-10.0.19041-SP0) AZURECLI/2.19.1
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","name":"webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006"},"privateLinkServiceConnectionState":{"status":"Pending","description":"","actionsRequired":"None"},"ipAddresses":[]}}
      - step: RawStep_3383
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314?api-version=2019-08-01
        requestBody: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","name":"webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006"},"privateLinkServiceConnectionState":{"status":"Approved","description":null,"actionsRequired":"None"},"ipAddresses":[]}}
        requestHeaders:
          Accept: '*/*'
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint-connection approve
          Connection: keep-alive
          Content-Length: '910'
          Content-Type: application/json
          ParameterSetName: '-g --resource-name -n --type'
          User-Agent: python/3.7.4 (Windows-10-10.0.19041-SP0) AZURECLI/2.19.1
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","name":"webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006"},"privateLinkServiceConnectionState":{"status":"Approving","description":"","actionsRequired":"None"},"ipAddresses":[]}}
      - step: RawStep_3384
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/clitest.rg000001?api-version=2020-10-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint create
          Connection: keep-alive
          ParameterSetName: >-
            -g -n --vnet-name --subnet --connection-name
            --private-connection-resource-id --group-id --manual-request
          User-Agent: >-
            python/3.7.4 (Windows-10-10.0.19041-SP0) msrest/0.6.21
            msrest_azure/0.6.3 azure-mgmt-resource/12.0.0 Azure-SDK-For-Python
            AZURECLI/2.19.1
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001","name":"clitest.rg000001","type":"Microsoft.Resources/resourceGroups","location":"westus2","tags":{"product":"azurecli","cause":"automation","date":"2021-02-25T02:28:09Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_3385
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008?api-version=2020-08-01
        requestBody: >-
          {"location":"westus2","properties":{"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005"},"manualPrivateLinkServiceConnections":[{"name":"webapp-privatelink-endpointconn2000009","properties":{"privateLinkServiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","groupIds":["sites"]}}]}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint create
          Connection: keep-alive
          Content-Length: '712'
          Content-Type: application/json
          ParameterSetName: >-
            -g -n --vnet-name --subnet --connection-name
            --private-connection-resource-id --group-id --manual-request
          User-Agent: >-
            AZURECLI/2.19.1 azsdk-python-azure-mgmt-network/18.0.0 Python/3.7.4
            (Windows-10-10.0.19041-SP0)
        statusCode: 201
        responseExpected: >-
          {"name":"webapp-privatelink-endpoint2000008","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008","etag":"W/\"c0ae3145-a8b9-4a39-8f6c-654390ad4340\"","type":"Microsoft.Network/privateEndpoints","location":"westus2","properties":{"provisioningState":"Updating","resourceGuid":"b21da550-d6c3-4b5b-86e8-1ef0c4cef836","privateLinkServiceConnections":[],"manualPrivateLinkServiceConnections":[{"name":"webapp-privatelink-endpointconn2000009","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008/manualPrivateLinkServiceConnections/webapp-privatelink-endpointconn2000009","etag":"W/\"c0ae3145-a8b9-4a39-8f6c-654390ad4340\"","properties":{"provisioningState":"Succeeded","privateLinkServiceId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","groupIds":["sites"],"privateLinkServiceConnectionState":{"status":"Pending","description":"Awaiting
          Approval","actionsRequired":"None"}},"type":"Microsoft.Network/privateEndpoints/manualPrivateLinkServiceConnections"}],"subnet":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/virtualNetworks/webapp-privatelink-vnet000004/subnets/webapp-privatelink-subnet000005"},"networkInterfaces":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/networkInterfaces/webapp-privatelink-endpoint2000008.nic.23f5cbf9-4a6d-4876-9cf9-0a556ca364b7"}],"customDnsConfigs":[]}}
      - step: RawStep_3386
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002?api-version=2019-08-01
        requestHeaders:
          Accept: '*/*'
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint-connection list
          Connection: keep-alive
          ParameterSetName: '-g -n --type'
          User-Agent: python/3.7.4 (Windows-10-10.0.19041-SP0) AZURECLI/2.19.1
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002","name":"webapp-privatelink-webapp000002","type":"Microsoft.Web/sites","kind":"app","location":"West
          US
          2","properties":{"name":"webapp-privatelink-webapp000002","state":"Running","hostNames":["webapp-privatelink-webapp000002.azurewebsites.net"],"webSpace":"clitest.rg000001-WestUS2webspace","selfLink":"https://waws-prod-mwh-065.api.azurewebsites.windows.net:454/subscriptions/00000000-0000-0000-0000-000000000000/webspaces/clitest.rg000001-WestUS2webspace/sites/webapp-privatelink-webapp000002","repositorySiteName":"webapp-privatelink-webapp000002","owner":null,"usageState":"Normal","enabled":true,"adminEnabled":true,"enabledHostNames":["webapp-privatelink-webapp000002.azurewebsites.net","webapp-privatelink-webapp000002.scm.azurewebsites.net"],"siteProperties":{"metadata":null,"properties":[{"name":"LinuxFxVersion","value":""},{"name":"WindowsFxVersion","value":null}],"appSettings":null},"availabilityState":"Normal","sslCertificates":null,"csrs":[],"cers":null,"siteMode":null,"hostNameSslStates":[{"name":"webapp-privatelink-webapp000002.azurewebsites.net","sslState":"Disabled","ipBasedSslResult":null,"virtualIP":null,"thumbprint":null,"toUpdate":null,"toUpdateIpBasedSsl":null,"ipBasedSslState":"NotConfigured","hostType":"Standard"},{"name":"webapp-privatelink-webapp000002.scm.azurewebsites.net","sslState":"Disabled","ipBasedSslResult":null,"virtualIP":null,"thumbprint":null,"toUpdate":null,"toUpdateIpBasedSsl":null,"ipBasedSslState":"NotConfigured","hostType":"Repository"}],"computeMode":null,"serverFarm":null,"serverFarmId":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/serverfarms/webapp-privatelink-asp000003","reserved":false,"isXenon":false,"hyperV":false,"lastModifiedTimeUtc":"2021-02-25T02:31:37.8366667","storageRecoveryDefaultState":"Running","contentAvailabilityState":"Normal","runtimeAvailabilityState":"Normal","siteConfig":{"numberOfWorkers":null,"defaultDocuments":null,"netFrameworkVersion":null,"phpVersion":null,"pythonVersion":null,"nodeVersion":null,"powerShellVersion":null,"linuxFxVersion":null,"windowsFxVersion":null,"requestTracingEnabled":null,"remoteDebuggingEnabled":null,"remoteDebuggingVersion":null,"httpLoggingEnabled":null,"azureMonitorLogCategories":null,"acrUseManagedIdentityCreds":false,"acrUserManagedIdentityID":null,"logsDirectorySizeLimit":null,"detailedErrorLoggingEnabled":null,"publishingUsername":null,"publishingPassword":null,"appSettings":null,"azureStorageAccounts":null,"metadata":null,"connectionStrings":null,"machineKey":null,"handlerMappings":null,"documentRoot":null,"scmType":null,"use32BitWorkerProcess":null,"webSocketsEnabled":null,"alwaysOn":null,"javaVersion":null,"javaContainer":null,"javaContainerVersion":null,"appCommandLine":null,"managedPipelineMode":null,"virtualApplications":null,"winAuthAdminState":null,"winAuthTenantState":null,"customAppPoolIdentityAdminState":null,"customAppPoolIdentityTenantState":null,"runtimeADUser":null,"runtimeADUserPassword":null,"loadBalancing":null,"routingRules":null,"experiments":null,"limits":null,"autoHealEnabled":null,"autoHealRules":null,"tracingOptions":null,"vnetName":null,"vnetRouteAllEnabled":null,"vnetPrivatePortsCount":null,"cors":null,"push":null,"apiDefinition":null,"apiManagementConfig":null,"autoSwapSlotName":null,"localMySqlEnabled":null,"managedServiceIdentityId":null,"xManagedServiceIdentityId":null,"ipSecurityRestrictions":null,"scmIpSecurityRestrictions":null,"scmIpSecurityRestrictionsUseMain":null,"http20Enabled":null,"minTlsVersion":null,"scmMinTlsVersion":null,"ftpsState":null,"preWarmedInstanceCount":null,"functionAppScaleLimit":null,"healthCheckPath":null,"fileChangeAuditEnabled":null,"functionsRuntimeScaleMonitoringEnabled":null,"websiteTimeZone":null,"minimumElasticInstanceCount":0},"deploymentId":"webapp-privatelink-webapp000002","trafficManagerHostNames":null,"sku":"PremiumV2","scmSiteAlsoStopped":false,"targetSwapSlot":null,"hostingEnvironment":null,"hostingEnvironmentProfile":null,"clientAffinityEnabled":true,"clientCertEnabled":false,"clientCertMode":"Required","clientCertExclusionPaths":null,"hostNamesDisabled":false,"domainVerificationIdentifiers":null,"customDomainVerificationId":"253001F2FCF5A7B1CD759EB861E9BB1596370BE27E47A991F72184277B3D12F2","kind":"app","inboundIpAddress":"40.64.128.228","possibleInboundIpAddresses":"40.64.128.228","ftpUsername":"webapp-privatelink-webapp000002\\$webapp-privatelink-webapp000002","ftpsHostName":"ftps://waws-prod-mwh-065.ftp.azurewebsites.windows.net/site/wwwroot","outboundIpAddresses":"20.72.192.161,20.72.192.166,20.72.192.169,20.72.192.222,20.72.192.250,20.72.193.46,40.64.128.228","possibleOutboundIpAddresses":"20.72.192.39,20.72.192.87,20.72.192.99,20.72.192.146,20.72.192.156,20.72.192.159,20.72.192.161,20.72.192.166,20.72.192.169,20.72.192.222,20.72.192.250,20.72.193.46,20.72.193.92,20.72.193.103,20.72.193.104,20.72.193.106,20.72.193.117,20.72.193.118,20.72.193.121,20.72.193.133,20.72.193.162,20.72.193.174,20.72.193.181,20.72.193.194,20.72.193.229,20.72.193.242,20.72.194.0,51.143.126.35,51.143.58.61,51.143.59.101,40.64.128.228","containerSize":0,"dailyMemoryTimeQuota":0,"suspendedTill":null,"siteDisabledReason":0,"functionExecutionUnitsCache":null,"maxNumberOfWorkers":null,"homeStamp":"waws-prod-mwh-065","cloningInfo":null,"hostingEnvironmentId":null,"tags":null,"resourceGroup":"clitest.rg000001","defaultHostName":"webapp-privatelink-webapp000002.azurewebsites.net","slotSwapStatus":null,"httpsOnly":false,"redundancyMode":"None","inProgressOperationId":null,"geoDistributions":null,"privateEndpointConnections":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","name":"webapp-privatelink-endpointconn000007-9d97a5d7-0d21-4e81-883f-65d70e2d4314","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint000006"},"privateLinkServiceConnectionState":{"status":"Approving","description":"","actionsRequired":"None"},"ipAddresses":[]}},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","name":"webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008"},"privateLinkServiceConnectionState":{"status":"Pending","description":"","actionsRequired":"None"},"ipAddresses":[]}}],"buildVersion":null,"targetBuildVersion":null,"migrationState":null,"eligibleLogCategories":"AppServiceAppLogs,AppServiceAuditLogs,AppServiceConsoleLogs,AppServiceHTTPLogs,AppServiceIPSecAuditLogs,AppServicePlatformLogs,ScanLogs,AppServiceFileAuditLogs,AppServiceAntivirusScanAuditLogs","storageAccountRequired":false}}
      - step: RawStep_3387
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f?api-version=2019-08-01
        requestHeaders:
          Accept: '*/*'
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint-connection reject
          Connection: keep-alive
          ParameterSetName: '-g --resource-name -n --type'
          User-Agent: python/3.7.4 (Windows-10-10.0.19041-SP0) AZURECLI/2.19.1
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","name":"webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008"},"privateLinkServiceConnectionState":{"status":"Pending","description":"","actionsRequired":"None"},"ipAddresses":[]}}
      - step: RawStep_3388
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f?api-version=2019-08-01
        requestBody: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","name":"webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008"},"privateLinkServiceConnectionState":{"status":"Rejected","description":null,"actionsRequired":"None"},"ipAddresses":[]}}
        requestHeaders:
          Accept: '*/*'
          Accept-Encoding: gzip, deflate
          CommandName: network private-endpoint-connection reject
          Connection: keep-alive
          Content-Length: '910'
          Content-Type: application/json
          ParameterSetName: '-g --resource-name -n --type'
          User-Agent: python/3.7.4 (Windows-10-10.0.19041-SP0) AZURECLI/2.19.1
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Web/sites/webapp-privatelink-webapp000002/privateEndpointConnections/webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","name":"webapp-privatelink-endpointconn2000009-e23ef9bd-b412-4b60-a6fc-20d3822cdf7f","type":"Microsoft.Web/sites/privateEndpointConnections","properties":{"provisioningState":"Pending","privateEndpoint":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/clitest.rg000001/providers/Microsoft.Network/privateEndpoints/webapp-privatelink-endpoint2000008"},"privateLinkServiceConnectionState":{"status":"Rejecting","description":"","actionsRequired":"None"},"ipAddresses":[]}}
