scope: ResourceGroup
testScenarios:
  - description: test_network_ddos_protection_plan
    steps:
      - step: RawStep_1640
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_ddos_protection000001?api-version=2019-07-01
        requestBody: >-
          {"location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-04-04T00:06:03Z"}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: group create
          Connection: keep-alive
          Content-Length: '110'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 resourcemanagementclient/1.2.1
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001","name":"cli_test_ddos_protection000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-04-04T00:06:03Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1641
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestBody: >-
          {"location":"westus","tags":{},"properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{}}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet create
          Connection: keep-alive
          Content-Length: '123'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"066f81c5-9a1f-4698-8ce3-0d064618beb7\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1642
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_ddos_protection000001?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet create
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 resourcemanagementclient/1.2.1
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001","name":"cli_test_ddos_protection000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-04-04T00:06:03Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1643
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          {"location":"westus","tags":{},"properties":{"addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{}}}
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet create
          Connection: keep-alive
          Content-Length: '123'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"ba308873-f0de-4303-a314-b46d8b7a3369\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1644
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_ddos_protection000001?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 resourcemanagementclient/1.2.1
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001","name":"cli_test_ddos_protection000001","location":"westus","tags":{"product":"azurecli","cause":"automation","date":"2018-04-04T00:06:03Z"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1645
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestBody: '{"location":"westus","tags":{"foo":"doo"}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Length: '46'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 201
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"caa5b8e0-d193-409e-8c0a-c80dfb95ed30\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"foo":"doo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1646
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"db40c043-e940-4486-80b5-1e48f3f298d3\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1647
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "2cd3dfa5-d558-4305-afad-f8d3edcf4887", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false, "ddosProtectionPlan": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}},
          "etag": "W/\\"db40c043-e940-4486-80b5-1e48f3f298d3\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Length: '820'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"9a29367f-76ff-409b-a312-39c6d126e10d\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1648
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"2a9ea9e2-01c0-4074-94d8-185a6db48899\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1649
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "626e5668-9f37-4b5d-9d06-af20361ff91a", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false, "ddosProtectionPlan": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}},
          "etag": "W/\\"2a9ea9e2-01c0-4074-94d8-185a6db48899\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Length: '820'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"5f2dc381-f5c6-4e99-b1bb-4208ac20d705\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1650
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"5e60d53d-0266-4648-b8ad-92845d293023\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"foo":"doo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1651
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection show
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"5e60d53d-0266-4648-b8ad-92845d293023\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"foo":"doo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1652
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"9493396b-e8f5-49a0-85ba-e1f1826de97f\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1653
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "2cd3dfa5-d558-4305-afad-f8d3edcf4887", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false}, "etag": "W/\\"9493396b-e8f5-49a0-85ba-e1f1826de97f\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Length: '590'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"41c13c5b-e990-4936-951f-bec815adce7d\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1654
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection create
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"27d7c1b5-021f-4483-9e18-5a851f228d5f\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1655
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"636cb505-3b0c-4eb9-9093-d504eb9a07c9\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1656
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"27d7c1b5-021f-4483-9e18-5a851f228d5f\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1657
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "626e5668-9f37-4b5d-9d06-af20361ff91a", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false}, "etag": "W/\\"27d7c1b5-021f-4483-9e18-5a851f228d5f\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Length: '590'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"46445789-0989-42f0-869c-4a73bb3e70e7\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1658
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection show
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"4e3f1b94-0ab5-4838-9bbd-d31d96431395\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"foo":"doo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1659
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"636cb505-3b0c-4eb9-9093-d504eb9a07c9\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1660
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "2cd3dfa5-d558-4305-afad-f8d3edcf4887", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false, "ddosProtectionPlan": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}},
          "etag": "W/\\"636cb505-3b0c-4eb9-9093-d504eb9a07c9\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Length: '820'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"628d73d3-b505-447a-a2fa-5a3ae0594864\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1661
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"23ea1453-1138-458b-898c-ec3b8562b533\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1662
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "626e5668-9f37-4b5d-9d06-af20361ff91a", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false, "ddosProtectionPlan": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}},
          "etag": "W/\\"23ea1453-1138-458b-898c-ec3b8562b533\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network vnet update
          Connection: keep-alive
          Content-Length: '820'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"e88ec989-35e0-43d2-93f4-dd98253aa60f\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1663
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection show
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"e6b6cf79-cc8f-436d-a626-b68619e95da0\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"foo":"doo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1664
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"e6b6cf79-cc8f-436d-a626-b68619e95da0\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"foo":"doo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1"},{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1665
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"8bbdc246-f031-4ee8-996f-d737e89e62dd\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1666
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "2cd3dfa5-d558-4305-afad-f8d3edcf4887", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false}, "etag": "W/\\"8bbdc246-f031-4ee8-996f-d737e89e62dd\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '590'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"47c1541f-fe55-4b41-b7cf-631de91f89d3\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1667
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"93d37ca6-374e-4618-b2df-8292f9bbbe0e\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1668
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "626e5668-9f37-4b5d-9d06-af20361ff91a", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false}, "etag": "W/\\"93d37ca6-374e-4618-b2df-8292f9bbbe0e\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '590'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"d2370dbe-69bc-433a-be69-daa9ad6038f6\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1669
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1",
          "location": "westus", "tags": {"doo": "foo"}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '252'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"33456cf1-14f5-4c75-a4df-df0bbb984831\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1670
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"vnet1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet1","etag":"W/\"fef063e8-6779-400e-92fe-02c8e5752b5e\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"2cd3dfa5-d558-4305-afad-f8d3edcf4887","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1671
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"ae8cdde0-21e5-4f83-aa08-621f604c8e97\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1672
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"33456cf1-14f5-4c75-a4df-df0bbb984831\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1673
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection show
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"33456cf1-14f5-4c75-a4df-df0bbb984831\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1674
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"33456cf1-14f5-4c75-a4df-df0bbb984831\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1675
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"ae8cdde0-21e5-4f83-aa08-621f604c8e97\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1676
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "626e5668-9f37-4b5d-9d06-af20361ff91a", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false, "ddosProtectionPlan": {"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}},
          "etag": "W/\\"ae8cdde0-21e5-4f83-aa08-621f604c8e97\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '820'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"2c7565f2-db3d-4136-acd1-facfd5c309dd\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1677
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1",
          "location": "westus", "tags": {"doo": "foo"}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '252'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"ac651140-8613-4ab2-9926-1c8e52931372\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1678
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"170a3084-d526-41e2-85af-60c15a1921a1\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1679
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"ac651140-8613-4ab2-9926-1c8e52931372\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1680
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection show
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"ac651140-8613-4ab2-9926-1c8e52931372\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}
      - step: RawStep_1681
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection list
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"value":[{"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"ac651140-8613-4ab2-9926-1c8e52931372\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded","virtualNetworks":[{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2"}]}}]}
      - step: RawStep_1682
        method: DELETE
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection delete
          Connection: keep-alive
          Content-Length: '0'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 400
        responseExpected: >-
          {"error":{"code":"InUseDdosProtectionPlanCannotBeDeleted","message":"DDoS
          Protection Plan
          /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1
          cannot be deleted because it is in use with virtual networks
          /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2.","details":[]}}
      - step: RawStep_1683
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"170a3084-d526-41e2-85af-60c15a1921a1\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false,"ddosProtectionPlan":{"id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1"}}}
      - step: RawStep_1684
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2",
          "location": "westus", "tags": {}, "properties": {"addressSpace":
          {"addressPrefixes": ["10.0.0.0/16"]}, "dhcpOptions": {"dnsServers":
          []}, "subnets": [], "virtualNetworkPeerings": [], "resourceGuid":
          "626e5668-9f37-4b5d-9d06-af20361ff91a", "provisioningState":
          "Succeeded", "enableDdosProtection": false, "enableVmProtection":
          false}, "etag": "W/\\"170a3084-d526-41e2-85af-60c15a1921a1\\""}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '590'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"f049f36f-3a85-497e-8903-4a14869cbac6\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Updating","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1685
        method: PUT
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestBody: >-
          b'{"id":
          "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1",
          "location": "westus", "tags": {"doo": "foo"}}'
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          Content-Length: '252'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"79b39fbb-958f-472e-b0f6-24f8ab0751a4\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1686
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"vnet2","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/virtualNetworks/vnet2","etag":"W/\"6f814d5f-220a-482a-8697-31ecb33d5d17\"","type":"Microsoft.Network/virtualNetworks","location":"westus","tags":{},"properties":{"provisioningState":"Succeeded","resourceGuid":"626e5668-9f37-4b5d-9d06-af20361ff91a","addressSpace":{"addressPrefixes":["10.0.0.0/16"]},"dhcpOptions":{"dnsServers":[]},"subnets":[],"virtualNetworkPeerings":[],"enableDdosProtection":false,"enableVmProtection":false}}
      - step: RawStep_1687
        method: GET
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection update
          Connection: keep-alive
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
        responseExpected: >-
          {"name":"ddos1","id":"/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1","etag":"W/\"79b39fbb-958f-472e-b0f6-24f8ab0751a4\"","type":"Microsoft.Network/ddosProtectionPlans","location":"westus","tags":{"doo":"foo"},"properties":{"provisioningState":"Succeeded"}}
      - step: RawStep_1688
        method: DELETE
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/cli_test_ddos_protection000001/providers/Microsoft.Network/ddosProtectionPlans/ddos1?api-version=2018-02-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: network ddos-protection delete
          Connection: keep-alive
          Content-Length: '0'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 networkmanagementclient/2.0.0rc2
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 202
      - step: RawStep_1689
        method: DELETE
        rawUrl: >-
          https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/cli_test_ddos_protection000001?api-version=2019-07-01
        requestHeaders:
          Accept: application/json
          Accept-Encoding: gzip, deflate
          CommandName: group delete
          Connection: keep-alive
          Content-Length: '0'
          Content-Type: application/json; charset=utf-8
          User-Agent: >-
            python/3.6.2 (Windows-10-10.0.16299-SP0) requests/2.18.4
            msrest/0.4.27 msrest_azure/0.4.25 resourcemanagementclient/1.2.1
            Azure-SDK-For-Python AZURECLI/2.0.31
          accept-language: en-US
        statusCode: 202
