{
  "parameters": {
    "api-version": "2020-11-01",
    "subscriptionId": "00000000-0000-0000-0000-000000000000",
    "resourceGroupName": "NetworkWatcherRG",
    "networkWatcherName": "NetworkWatcher_eastus",
    "connectionMonitorName": "CMv2-01",
    "parameters": {
      "location": "eastus",
      "properties": {
        "endpoints": [
          {
            "name": "vm1",
            "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/connection_monitor_v2_test_000001/providers/Microsoft.Compute/virtualMachines/vm1"
          },
          {
            "name": "bing",
            "address": "bing.com"
          }
        ],
        "testConfigurations": [
          {
            "name": "DefaultTestConfig",
            "testFrequencySec": 60,
            "protocol": "Tcp",
            "tcpConfiguration": {
              "port": 2048
            }
          }
        ],
        "testGroups": [
          {
            "name": "DefaultTestGroup",
            "testConfigurations": [
              "DefaultTestConfig"
            ],
            "sources": [
              "vm1"
            ],
            "destinations": [
              "bing"
            ]
          }
        ],
        "outputs": []
      }
    }
  },
  "responses": {
    "200": {
      "body": {
        "name": "CMv2-01",
        "id": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/NetworkWatcherRG/providers/Microsoft.Network/networkWatchers/NetworkWatcher_eastus/connectionMonitors/CMv2-01",
        "etag": "W/\"0c58552f-8ee3-40e2-9618-7203dd579043\"",
        "properties": {
          "provisioningState": "Succeeded",
          "resourceGuid": "26131ed0-73a7-432b-94d8-d41d6a1deb3c",
          "endpoints": [
            {
              "name": "vm1",
              "resourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/connection_monitor_v2_test_000001/providers/Microsoft.Compute/virtualMachines/vm1"
            },
            {
              "name": "bing",
              "address": "bing.com"
            }
          ],
          "testConfigurations": [
            {
              "name": "DefaultTestConfig",
              "testFrequencySec": 60,
              "protocol": "Tcp",
              "tcpConfiguration": {
                "port": 2048,
                "disableTraceRoute": false
              }
            }
          ],
          "testGroups": [
            {
              "name": "DefaultTestGroup",
              "disable": false,
              "testConfigurations": [
                "DefaultTestConfig"
              ],
              "sources": [
                "vm1"
              ],
              "destinations": [
                "bing"
              ]
            }
          ],
          "outputs": [
            {
              "type": "Workspace",
              "workspaceSettings": {
                "workspaceResourceId": "/subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/defaultresourcegroup-eus/providers/microsoft.operationalinsights/workspaces/defaultworkspace-0b1f6471-1bf0-4dda-aec3-cb9272f09590-eus"
              }
            }
          ],
          "startTime": "2021-03-04T07:01:41.4689211Z",
          "connectionMonitorType": "MultiEndpoint"
        },
        "type": "Microsoft.Network/networkWatchers/connectionMonitors",
        "location": "eastus"
      }
    }
  }
}