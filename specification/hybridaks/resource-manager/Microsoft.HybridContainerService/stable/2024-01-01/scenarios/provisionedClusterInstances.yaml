# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-rest-api-specs/main/documentation/api-scenario/references/v1.2/schema.json
scope: ResourceGroup

variables:
  agentPoolName:
    type: string
    prefix: agentpoo

prepareSteps:
      - operationId: KubernetesVersions_List
        exampleFile: ..\examples\ListKubernetesVersions.json
      - operationId: VMSkus_List
        exampleFile: ..\examples\ListVmSkus.json
      - operationId: provisionedClusterInstances_CreateOrUpdate
        exampleFile: ..\examples\PutProvisionedClusterInstance.json

scenarios:
  - scenario: provisionedClusterInstances
    description: Microsoft.HybridContainerService/provisionedClusterInstances/default
    steps:
      - operationId: provisionedClusterInstances_List
        exampleFile: ..\examples\ListProvisionedClusterInstances.json
      - operationId: provisionedClusterInstances_Get
        exampleFile: ..\examples\GetProvisionedClusterInstance.json
      - operationId: provisionedClusterInstances_GetUpgradeProfile
        exampleFile: ..\examples\ProvisionedClusterInstanceGetUpgradeProfile.json
      - operationId: provisionedClusterInstances_ListAdminKubeconfig
        exampleFile: ..\examples\ProvisionedClusterInstanceListAdminKubeconfig.json
      - operationId: provisionedClusterInstances_ListUserKubeconfig
        exampleFile: ..\examples\ProvisionedClusterInstanceListUserKubeconfig.json


  - scenario: HybridIdentityMetadata
    description: Microsoft.HybridContainerService/provisionedClusterInstances/default/hybridIdentityMetadata/default
    steps:
      - operationId: HybridIdentityMetadata_Put
        exampleFile: ..\examples\CreateHybridIdentityMetadata.json
      - operationId: HybridIdentityMetadata_ListByCluster
        exampleFile: ..\examples\HybridIdentityMetadataListByCluster.json
      - operationId: HybridIdentityMetadata_Get
        exampleFile: ..\examples\GetHybridIdentityMetadata.json
      - operationId: HybridIdentityMetadata_Delete
        exampleFile: ..\examples\DeleteHybridIdentityMetadata.json

  - scenario: agentPool
    description: Microsoft.HybridContainerService/provisionedClusterInstances/default/agentPools/{agentPoolName}
    steps:
      - operationId: agentPool_CreateOrUpdate
        exampleFile: ..\examples\PutAgentPool.json
      - operationId: agentPool_ListByProvisionedCluster
        exampleFile: ..\examples\ListAgentPoolByProvisionedClusterInstance.json
      - operationId: agentPool_Get
        exampleFile: ..\examples\GetAgentPool.json
      - operationId: agentPool_Delete
        exampleFile: ..\examples\DeleteAgentPool.json

  - scenario: KubernetesVersions
    description: Microsoft.HybridContainerService/kubernetesVersions/default
    steps:
      - operationId: KubernetesVersions_List
        exampleFile: ..\examples\ListKubernetesVersions.json
      # - operationId: PutKubernetesVersions
      #   exampleFile: ..\examples\PutKubernetesVersions.json
      - operationId: GetKubernetesVersions
        exampleFile: ..\examples\GetKubernetesVersions.json
      # - operationId: DeleteKubernetesVersions
      #   exampleFile: ..\examples\DeleteKubernetesVersions.json

  - scenario: VMSkus
    description: Microsoft.HybridContainerService/skus/default
    steps:
      - operationId: VMSkus_List
        exampleFile: ..\examples\ListVmSkus.json
      # - operationId: PutVMSkus
      #   exampleFile: ..\examples\PutVmSkus.json
      - operationId: GetVMSkus
        exampleFile: ..\examples\GetVmSkus.json
      # - operationId: DeleteVMSkus
      #   exampleFile: ..\examples\DeleteVmSkus.json

  - scenario: Operations
    description: Microsoft.HybridContainerService/operations
    steps:
      - operationId: Operations_List
        exampleFile: ..\examples\ListOperations.json

cleanUpSteps:
      - operationId: provisionedClusterInstances_Delete
        exampleFile: ..\examples\DeleteProvisionedClusterInstance.json