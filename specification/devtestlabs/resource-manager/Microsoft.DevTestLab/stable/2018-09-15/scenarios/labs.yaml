# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-rest-api-specs/main/documentation/api-scenario/references/v1.2/schema.json
scope: ResourceGroup

variables:
  labName:
    type: string
    prefix: labname

# Locked StorageAccount!!!!!
scenarios:
  - scenario: Labs
    description: Microsoft.DevTestLab/labs/{name}
    variables:
      name: $(labName)
    steps:
      - step: Labs_CreateOrUpdate 
        exampleFile: ..\examples\Labs_CreateOrUpdate.json
      - step: Labs_ListBySubscription
        exampleFile: ..\examples\Labs_ListBySubscription.json
      - step: Labs_ListByResourceGroup
        exampleFile: ..\examples\Labs_ListByResourceGroup.json
      - step: Labs_Get
        exampleFile: ..\examples\Labs_Get.json
      - step: Labs_Update
        exampleFile: ..\examples\Labs_Update.json
      - step: Labs_GenerateUploadUri
        exampleFile: ..\examples\Labs_GenerateUploadUri.json

      # - step: Labs_ExportResourceUsage
      #   exampleFile: ..\examples\Labs_ExportResourceUsage.json
      # - step: Labs_ImportVirtualMachine
      #   exampleFile: ..\examples\Labs_ImportVirtualMachine.json
      # - step: Labs_ClaimAnyVm # Cannot claim a virtual machine from this lab 
      #   exampleFile: ..\examples\Labs_ClaimAnyVm.json
      # - step: Labs_CreateEnvironment
      #   exampleFile: ..\examples\Labs_CreateEnvironment.json

      - step: Labs_ListVhds
        exampleFile: ..\examples\Labs_ListVhds.json
      - step: Labs_Delete
        exampleFile: ..\examples\Labs_Delete.json
