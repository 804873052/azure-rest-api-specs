# yaml-language-server: $schema=https://raw.githubusercontent.com/Azure/azure-rest-api-specs/main/documentation/api-scenario/references/v1.2/schema.json
scope: ResourceGroup
variables:
  monitorName:
    type: string
    prefix: monitorn
  configurationName:
    type: string
    prefix: configur
  ruleSetName:
    type: string
    prefix: rulesetn

prepareSteps:
      - operationId: Monitors_Create
        exampleFile: ..\examples\Monitors_Create.json

# validation failed. Only subscription owners may create this resource

scenarios:
  - scenario: Monitors
    description: Microsoft.Datadog/monitors/{monitorName}
    steps:
      - operationId: Monitors_List
        exampleFile: ..\examples\Monitors_List.json
      - operationId: Monitors_ListByResourceGroup
        exampleFile: ..\examples\Monitors_ListByResourceGroup.json
      - operationId: Monitors_Get
        exampleFile: ..\examples\Monitors_Get.json
      - operationId: Monitors_Update
        exampleFile: ..\examples\Monitors_Update.json
      - operationId: Monitors_RefreshSetPasswordLink
        exampleFile: ..\examples\RefreshSetPassword_Get.json
      - operationId: Monitors_SetDefaultKey
        exampleFile: ..\examples\ApiKeys_SetDefaultKey.json
      - operationId: Monitors_GetDefaultKey
        exampleFile: ..\examples\ApiKeys_GetDefaultKey.json
      - operationId: Monitors_ListLinkedResources
        exampleFile: ..\examples\LinkedResources_List.json
      - operationId: Monitors_ListMonitoredResources
        exampleFile: ..\examples\MonitoredResources_List.json
      - operationId: Monitors_ListApiKeys
        exampleFile: ..\examples\ApiKeys_List.json
      - operationId: Monitors_ListHosts
        exampleFile: ..\examples\Hosts_List.json

  - scenario: MonitoredSubscriptions
    description: Microsoft.Datadog/monitors/{monitorName}/monitoredSubscriptions/{configurationName}
    steps:
      - operationId: MonitoredSubscriptions_CreateorUpdate
        exampleFile: ..\examples\MonitoredSubscriptions_CreateorUpdate.json
      - operationId: MonitoredSubscriptions_List
        exampleFile: ..\examples\MonitoredSubscriptions_List.json
      - operationId: MonitoredSubscriptions_Get
        exampleFile: ..\examples\MonitoredSubscriptions_Get.json
      - operationId: MonitoredSubscriptions_Update
        exampleFile: ..\examples\MonitoredSubscriptions_Update.json
      - operationId: MonitoredSubscriptions_Delete
        exampleFile: ..\examples\MonitoredSubscriptions_Delete.json

  - scenario: SingleSignOnConfigurations
    description: Microsoft.Datadog/monitors/{monitorName}/singleSignOnConfigurations/{configurationName}
    steps:
      - operationId: SingleSignOnConfigurations_CreateOrUpdate
        exampleFile: ..\examples\SingleSignOnConfigurations_CreateOrUpdate.json
      - operationId: SingleSignOnConfigurations_List
        exampleFile: ..\examples\SingleSignOnConfigurations_List.json
      - operationId: SingleSignOnConfigurations_Get
        exampleFile: ..\examples\SingleSignOnConfigurations_Get.json

  - scenario: TagRules
    description: Microsoft.Datadog/monitors/{monitorName}/tagRules/{ruleSetName}
    steps:
      - operationId: TagRules_CreateOrUpdate
        exampleFile: ..\examples\TagRules_CreateOrUpdate.json
      - operationId: TagRules_List
        exampleFile: ..\examples\TagRules_List.json
      - operationId: TagRules_Get
        exampleFile: ..\examples\TagRules_Get.json

  - scenario: MarketplaceAgreements
    description: Microsoft.Datadog/agreements/default
    steps:
      - operationId: MarketplaceAgreements_CreateOrUpdate
        exampleFile: ..\examples\MarketplaceAgreements_Create.json
      - operationId: MarketplaceAgreements_List
        exampleFile: ..\examples\MarketplaceAgreements_List.json

  - scenario: Operations
    description: Microsoft.Datadog/operations
    steps:
      - operationId: Operations_List
        exampleFile: ..\examples\Operations_List.json

  - scenario: CreationSupported
    description: Microsoft.Datadog/subscriptionStatuses/default
    steps:
      - operationId: CreationSupported_List
        exampleFile: ..\examples\CreationSupported_List.json
      - operationId: CreationSupported_Get
        exampleFile: ..\examples\CreationSupported_Get.json



cleanUpSteps:
      - operationId: Monitors_Delete
        exampleFile: ..\examples\Monitors_Delete.json
